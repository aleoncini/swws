<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="favicon.ico">

    <title>Serverless Workflow WorkShop - Create Cloud Event</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.0/examples/sticky-footer-navbar/">

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

</head>

<body>

<header>

    <!-- Fixed navbar -->
    <nav class="navbar bg-dark border-bottom border-body" data-bs-theme="dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="img/Logo-RedHat-A-White-RGB.png" width="190" height="45" alt="Red Hat Logo" class="d-inline-block align-text-top">
            </a>
        </div>
    </nav>

</header>

<!-- Begin page content -->
<main role="main" class="container">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="index.html">Home</a></li>
          <li class="breadcrumb-item active" aria-current="page">Events</li>
        </ol>
    </nav>

    <h1 class="mt-5">Serverless Workflow WorkShop - <span style="color: #bb5555; font-family: 'courier'">Create Cloud Event</span></h1>
    <p class="lead">This is a web interface to create a Cloud Event</p>

    <div class="input-group mb-3">
        <div class="input-group-prepend w-25">
            <span class="input-group-text" id="basic-addon1">TYPE</span>
        </div>
        <input id="type_input" type="text" class="form-control" placeholder="Event Type" aria-label="Event Type" aria-describedby="basic-addon1">
    </div>
      
    <div class="input-group mb-3">
        <div class="input-group-prepend w-25">
            <span class="input-group-text" id="source">SOURCE</span>
        </div>
        <input id="source_input" type="text" class="form-control" placeholder="Event Source in URL format" aria-label="Event Source in URL format" aria-describedby="source">
    </div>
      
    <div class="input-group mb-3">
        <div class="input-group-prepend w-25">
            <span class="input-group-text" id="data">DATA</span>
        </div>
        <input id="data_input" type="text" class="form-control" placeholder="specific data of this event" aria-label="specific data of this event" aria-describedby="data">
    </div>

    <button id="btn_save" type="submit" class="btn btn-primary">Crea</button>

    <br><p></p>
    <div class="alert alert-success" id="save_ok" role="alert" style="display:none;" ></div>

</main>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="js/jquery-3.7.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/dashboard.js"></script>
<script type="text/javascript">

    $(document).ready(function() {
        $("#btn_save").click(function(){
            $("#btn_save").prop('disabled', true);
            var ti = $('#type_input').val();
            if(ti.length == 0){
                ti = "generic";
            }
            var si = $('#source_input').val();
            if(si.length == 0){
                si = "/localhost";
            }
            var di = $('#data_input').val();
            if(di.length == 0){
                di = "empty";
            }
            let outputStr = di.replace(/ /g, '%20');
            publish(ti, si, outputStr, showPublishResult);
        });
    });

</script>
</body>
</html>